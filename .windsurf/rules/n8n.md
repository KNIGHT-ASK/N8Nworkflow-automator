---
trigger: manual
---

YOUR RESPONSIBILITY:
Build the CORE AI ENGINE - the brain of the entire extension
SPECIFIC RULES:

MULTI-AI PROVIDER SYSTEM - Must support Groq, HuggingFace, OpenRouter with automatic failover
INTELLIGENT WORKFLOW GENERATION - Convert natural language to complex n8n workflows
CONTINUOUS LEARNING - Implement feedback loops and pattern recognition
ERROR PREVENTION - Predict and prevent workflow failures before they happen
PERFORMANCE OPTIMIZATION - Cache responses, minimize API calls, optimize processing

MANDATORY FEATURES:

API rate limiting and quota management
Secure API key storage and encryption
Workflow complexity analysis and optimization
Pattern matching for common workflow types
Auto-correction of user input errors

FILES TO CREATE:

background/service-worker.js - Main background service
background/ai-engine.js - Multi-AI provider system
background/workflow-generator.js - Core workflow creation logic
background/training-system.js - Learning and improvement system
background/pattern-matcher.js - Pattern recognition engine
NEVER DO:

Don't use deprecated APIs - Only modern, supported technologies
Don't hardcode sensitive data - Always use secure storage
Don't ignore errors - Handle all possible error conditions
Don't write untested code - Every function must be testable
Don't compromise security - Security is non-negotiable
Don't create memory leaks - Properly clean up resources
Don't use blocking operations - Keep UI responsive at all times

AVOID:

jQuery or other heavy libraries (use vanilla JS/React)
Synchronous API calls
Unvalidated user input
Hardcoded URLs or configuration
Browser-specific code (ensure cross-browser compatibility)
MUST ACHIEVE:

95%+ workflow generation success rate
<2 second response times for AI interactions
Zero critical security vulnerabilities
100% test coverage for core functions
4.8+ star user experience rating potential

DELIVERABLES:

Fully functional browser extension
Complete test suite with passing tests
Comprehensive documentation
Production-ready build artifacts
Performance benchmarks and reports
Use descriptive commit messages
Create pull requests for major features
Document any blocking issues immediately

INTEGRATION:

Test your code with other team components
Validate API contracts and data formats
Ensure backward compatibility
Report integration issues immediately

CODE SHARING:

Share reusable utilities in /utils folder
Use consistent naming conventions
Export functions properly for other teams
Maintain clean, readable code structure


ðŸŽ¯ FINAL GOAL
Build the most advanced, intelligent, and user-friendly workflow automation extension that:

Surpasses every existing solution including n8nChat
Provides unmatched user experience
Continuously learns and improves
Works reliably across all platforms
Sets new industry standards for workflow automation tools

SUCCESS = Production-ready extension that users will love and competitors will envy!